<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>TrackCloud &trade; by Shalom Salon</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
	<script src="assets/js/jquery-1.7.2.min.js" type="text/javascript"></script>
	<script src="assets/js/jquery.easing.1.3.js" type="text/javascript"></script>
	<script src="assets/js/jqueryFileTree.js" type="text/javascript"></script>
	<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="assets/js/handlebars-1.0.0.js" type="text/javascript"></script>
	<script src="assets/js/mustache.js" type="text/javascript"></script>
	
	<script type="text/javascript" src="assets/js/plupload.js"></script>

	<script type="text/javascript" src="assets/js/plupload.html4.js"></script>
	<script type="text/javascript" src="assets/js/plupload.html5.js"></script>

	<script src-"assets/js/app.filetree.js" type="text/javascript"></script>
	<!-- <script src="assets/js/app.upload.js" type="text/javascript"></script> -->

	<link href="assets/css/jqueryFileTree.css" rel="stylesheet" type="text/css" media="screen" />
	<link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" media="screen" />
	<link href="assets/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" media="screen" />
	<link href="assets/css/trackcloud.css" rel="stylesheet" type="text/css" media="screen" />
		

</head>
	
<body>
	
<div class="container-fluid">
      <div class="row-fluid">
        <div class="span6">
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
              <li class="nav-header">Available Mix&amp;Remix-Packages</li>
	    </ul>
        	<div id="treeView" class="demo"></div>
          </div><!--/.well -->
        </div><!--/span-->
        <div class="span6">
          <div id="headerView">
            <h1>TrackCloud &trade;</h1>
	    <p>A place to share mixes and request remixes. Select track from Menu and load file infos here. <span class="label label-warning">Warning</span> The native HTML5-Player does not yet support 24bit WAV playback. You will have to download them first.</p>
	  </div>
	  <div id="playerView">
	  
	  </div>

	  <div id="uploadView">
	  	<h1>Upload</h1>

		<p>Shows you how to use the core plupload API.</p>

		<div id="container">
		    <div id="filelist">No runtime found.</div>
		    <br />
		    <a id="pickfiles" href="javascript:;">[Select files]</a> 
		    <a id="uploadfiles" href="javascript:;">[Upload files]</a>
		</div>
	
  	  </div>
        </div><!--/span-->
      </div><!--/row-->

      <hr>

      <footer>
        <p>&copy; Shalom Salon Labs 2012 / <a href="upload/">Upload</a> / <a href="http://www.shalomsalon.de">Back to the project page</a></p>
      </footer>

    </div><!--/.fluid-container-->

<!-- Templates/Handlebars/Mustache -->

<script id="playerTemplate" type="text/x-handlebars-template">
	{{#file}}
		{{> header}}
	{{/file}}
	{{#audio}}
		{{> audio}}
	{{/audio}}
	{{> download}}
</script>

<script id="headerPartial" type="text/x-handlebars-template">
	<h2>{{file.name}}</h2>
</script>

<script id="audioPartial" type="text/x-handlebars-template">
	<audio controls="controls">
  		<source src="{{file.path}}" type="audio/wav" />
		  Your browser does not support the audio tag.
		</audio>
</script>

<script id="downloadPartial" type="text/x-handlebars-template">
	<p><a class="btn btn-primary btn-mini" href="{{file.path}}" target="_blank">Download: {{file.name}}</a></p>
</script>

<script>
// Custom example logic
function $(id) {
	return document.getElementById(id);	
}


var uploader = new plupload.Uploader({
	runtimes : 'html5,html4',
	browse_button : 'pickfiles',
	container: 'container',
	max_file_size : '10mb',
	url : 'upload.php',
	resize : {width : 320, height : 240, quality : 90},
	flash_swf_url : 'assets/js/plupload.flash.swf',
	silverlight_xap_url : 'assets/js/plupload.silverlight.xap',
	filters : [
		{title : "Image files", extensions : "jpg,gif,png"},
		{title : "Zip files", extensions : "zip"}
	]
});

uploader.bind('Init', function(up, params) {
	$('filelist').innerHTML = "<div>Current runtime: " + params.runtime + "</div>";
});

uploader.bind('FilesAdded', function(up, files) {
	for (var i in files) {
		$('filelist').innerHTML += '<div id="' + files[i].id + '">' + files[i].name + ' (' + plupload.formatSize(files[i].size) + ') <b></b></div>';
	}
});

uploader.bind('UploadProgress', function(up, file) {
	$(file.id).getElementsByTagName('b')[0].innerHTML = '<span>' + file.percent + "%</span>";
});

$('uploadfiles').onclick = function() {
	uploader.start();
	return false;
};

uploader.

</script>

</body>
	
</html>

